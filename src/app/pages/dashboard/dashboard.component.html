
<div class=" content">
  <ng-template #monthFilter let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Filtro de 'Mortes Mensais'</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="monthFilterForm" (ngSubmit)="applyMonthFilters(); modal.dismiss()">
        <div class="form-group">
          <label for="year">Escolha o ano: </label>
          <br/>
          <select name="year" id="year" formControlName="year">
            <option value="2019">2019</option>
            <option value="2020">2020</option>
          </select>
        </div>
        <div class="form-group">
          <label for="graph">Escolha o tipo de exibição: </label>
          <br/>
          <select name="graph" id="graph" formControlName="graph">
            <option value="GraficoEixos">Gráfico de eixos</option>
            <option value="GraficoPizza">Gráfico de pizza</option>
            <option value="Tabela">Tabela</option>
          </select>
        </div>
        <div class="modal-footer row justify-content-center">
          <button type="submit" class="btn btn-info btn-simple">Aplicar filtros</button>
        </div>
      </form>    
    </div>

  </ng-template>
  <ng-template #diseasesFilter let-modal>
    <div class="modal-header">
      <h4 class="modal-title" id="modal-basic-title">Filtro de 'Mortes por Doenças'</h4>
      <button type="button" class="close" aria-label="Close" (click)="modal.dismiss()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      <form [formGroup]="diseasesFilterForm" (ngSubmit)="applyDiseasesFilters(); modal.dismiss()">
        <div class="form-group">
          <label for="year">Escolha o ano: </label>
          <br/>
          <select name="year" id="year" formControlName="year">
            <option value="2019">2019</option>
            <option value="2020">2020</option>
          </select>
        </div>
        <div class="form-group">
          <label for="graph">Escolha o tipo de exibição: </label>
          <br/>
          <select name="graph" id="graph" formControlName="graph">
            <option value="GraficoEixos">Gráfico de eixos</option>
            <option value="GraficoPizza">Gráfico de pizza</option>
            <option value="Tabela">Tabela</option>
          </select>
        </div>
        <div class="modal-footer row justify-content-center">
          <button type="submit" class="btn btn-info btn-simple">Aplicar filtros</button>
        </div>
      </form>    
    </div>

  </ng-template>
  <div class=" row">
    <div class=" col-12">
      <div class=" card card-chart">
        <div class=" card-header">
          <div class=" row">
            <div class=" col-sm-6 text-left">
              <h5 class=" card-category">declarações de óbito</h5>
              <h2 class=" card-title">Mortes Mensais</h2>
            </div>
            <div class=" col-sm-6">
              <div
                class=" btn-group btn-group-toggle float-right"
                data-toggle="buttons"
              >
                <button type="button" class="btn btn-info btn-simple" (click)="open(monthFilter)">Filtros</button>
              </div>
            </div>
          </div>
        </div>
        <div class=" card-body">          
          <div class=" chart-area" [ngSwitch]="this.monthFilterForm.value.graph">
            <canvas *ngSwitchCase="'GraficoPizza'" id="chartMonthPizza"> </canvas>
            <canvas *ngSwitchDefault id="chartLinesMonth"></canvas>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class=" row">
    <div class=" col-lg-4">
      <div class=" card card-chart">
        <div class=" card-header">
          <div class=" row">
            <div class=" col-sm-6 text-left">
              <h5 class=" card-category">As 10 Doenças que mais mataram</h5>
              <h3 class=" card-title">
                Mortes por Doenças
              </h3>
            </div>
            <div class=" col-sm-6">
              <div
                class=" btn-group btn-group-toggle float-right"
                data-toggle="buttons"
              >
                <button type="button" class="btn btn-info btn-simple" (click)="open(diseasesFilter)">Filtros</button>
              </div>
            </div>
          </div>
        </div>
        <div class=" card-body">
          <div class=" chart-area" [ngSwitch]="this.diseasesFilterForm.value.graph">
            <canvas *ngSwitchCase="'GraficoEixos'" id="chartLinesDiseases"></canvas>
            <canvas *ngSwitchDefault id="chartDiseasesPizza"> </canvas>
            
          </div>
        </div>
      </div>
    </div>
    <div class=" col-lg-4">
      <div class=" card card-chart">
        <div class=" card-header">
          <h5 class=" card-category">Doenças que mais mataram desde 2015</h5>
          <h3 class=" card-title">
            <i class=" tim-icons text-danger-states"> </i>
          </h3>
        </div>
        <div class=" card-body">
          <div class=" chart-area">
          </div>
        </div>
      </div>
    </div>
    <div class=" col-lg-4">
      <div class=" card card-chart">
        <div class=" card-header">
          <h5 class=" card-category">Mortes por COVID-19 em 2021</h5>
          <h3 class=" card-title">
            <i class=" tim-icons icon-single-02 text-danger-states"> </i> 180.278
          </h3>
        </div>
        <div class=" card-body">
          <div class=" chart-area"><canvas id="chartLineGreen"> </canvas></div>
        </div>
      </div>
    </div>
  </div>
  <div class=" row">
    <div class=" col-lg-12 col-md-12">
      <div class=" card">
        <div class=" card-header">
          <h4 class=" card-title">10 Declarações de Óbito de 2019</h4>
        </div>
        <div class=" card-body">
          <div class=" table-responsive">
            <table class=" table tablesorter" id="">
              <thead class=" text-primary">
                <tr>
                  <th *ngFor="let headerItem of tableHeader">{{headerItem}}</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let dataItem of tableData">
                  <td *ngFor="let headerItem of tableHeader">{{dataItem[headerItem]}}</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
